<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Happy Tails â€” Dashboard</title>

    <!-- Tailwind config (use window.tailwind before CDN for consistency) -->
    <script>
      window.tailwind = {
        config: {
          darkMode: "class",
          theme: {
            extend: {
              colors: {
                pawPink: "#ff9eb8",
                pawPeach: "#ffddb3",
                pawBlue: "#a5d8ff",
                pawDark: "#1f2937",
              },
              boxShadow: {
                "soft-pink": "0 10px 30px rgba(255,158,184,0.12)",
                "soft-blue": "0 10px 30px rgba(165,216,255,0.08)",
              },
            },
          },
        },
      };
    </script>
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
      /* Entrance animations */
      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      .fade-in-up {
        animation: fadeInUp 0.5s ease both;
      }

      /* subtle float for paw icon */
      @keyframes floatPaw {
        0%,
        100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-8px) rotate(6deg);
        }
      }
      .paw-anim {
        animation: floatPaw 3.2s ease-in-out infinite;
      }

      /* animated gradient background */
      .bg-shift {
        background-size: 200% 200%;
        animation: bgShift 10s ease infinite;
      }
      @keyframes bgShift {
        0% {
          background-position: 0% 50%;
        }
        50% {
          background-position: 100% 50%;
        }
        100% {
          background-position: 0% 50%;
        }
      }

      /* card hover lift */
      .card-hover:hover {
        transform: translateY(-8px) scale(1.01);
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.08);
      }

      /* glow for buttons */
      .glow-light:hover {
        box-shadow: 0 8px 28px rgba(255, 158, 184, 0.12);
      }
      .dark .glow-light:hover {
        box-shadow: 0 8px 28px rgba(165, 216, 255, 0.1);
      }

      /* smooth transition for theme */
      html,
      body,
      section,
      div,
      button,
      input {
        transition: background-color 0.35s ease, color 0.35s ease,
          transform 0.18s ease;
      }

      /* modal backdrop */
      .modal-backdrop {
        background: rgba(0, 0, 0, 0.55);
      }

      /* small helpers */
      .card-img {
        height: 160px;
        object-fit: cover;
        width: 100%;
      }
    </style>
  </head>

  <body
    class="min-h-screen bg-shift bg-gradient-to-br from-pawPeach via-white to-pawPink dark:from-gray-900 dark:via-gray-800 dark:to-pawDark text-gray-800 dark:text-gray-100 transition-all duration-500"
  >
    <!-- Top header -->
    <header
      class="sticky top-0 z-40 backdrop-blur-md bg-white/60 dark:bg-gray-900/60 border-b border-white/30 dark:border-gray-700"
    >
      <div class="max-w-7xl mx-auto px-4 md:px-6 lg:px-8">
        <div class="flex items-center justify-between h-16">
          <div class="flex items-center gap-3">
            <div class="p-2 rounded-md bg-white/80 dark:bg-gray-800 shadow">
              <img
                src="https://cdn-icons-png.flaticon.com/512/616/616408.png"
                alt="paw"
                class="w-7 h-7"
              />
            </div>
            <div>
              <div class="font-extrabold text-lg">
                Happy <span class="text-pawPink dark:text-pawBlue">Tails</span>
              </div>
              <div class="text-xs text-gray-600 dark:text-gray-300">
                Find your next furry friend
              </div>
            </div>
          </div>

          <div class="flex items-center gap-3">
            <!-- Search -->
            <div class="relative">
              <input
                id="search"
                type="search"
                placeholder="Search name / breed / type"
                class="pl-3 pr-10 py-2 rounded-full w-80 border focus:ring-2 focus:ring-pawPink dark:focus:ring-pawBlue dark:bg-gray-800 dark:border-gray-700"
              />
              <button
                id="clearSearch"
                title="Clear"
                class="absolute right-1 top-1.5 text-gray-500 hover:text-gray-700 dark:hover:text-gray-200 px-2"
              >
                âœ•
              </button>
            </div>

            <!-- Filter button -->
            <div class="relative">
              <button
                id="filterToggle"
                class="px-3 py-2 rounded-full bg-white/80 dark:bg-gray-800 border border-white/20 dark:border-gray-700 shadow hover:scale-105 transition transform"
              >
                Filters â–¾
              </button>

              <!-- Filter dropdown (hidden until toggle) -->
              <div
                id="filterDropdown"
                class="hidden absolute right-0 mt-3 w-72 bg-white/90 dark:bg-gray-800/80 backdrop-blur rounded-xl p-4 shadow-xl border border-white/20 dark:border-gray-700 z-50"
              >
                <div class="mb-3 font-semibold">Filter results</div>

                <!-- Type checkboxes -->
                <div class="mb-3">
                  <div class="text-sm font-medium mb-1">Type</div>
                  <div class="flex gap-2 flex-wrap">
                    <label class="inline-flex items-center gap-2"
                      ><input type="checkbox" class="filter-type" value="Dog" />
                      Dog</label
                    >
                    <label class="inline-flex items-center gap-2"
                      ><input type="checkbox" class="filter-type" value="Cat" />
                      Cat</label
                    >
                  </div>
                </div>

                <!-- Breed (checkboxes) -->
                <div class="mb-3">
                  <div class="text-sm font-medium mb-1">Breeds</div>
                  <div
                    id="breedCheckboxes"
                    class="grid grid-cols-2 gap-2 text-sm max-h-36 overflow-auto pr-2"
                  ></div>
                </div>

                <!-- Location -->
                <div class="mb-4">
                  <div class="text-sm font-medium mb-1">Locations</div>
                  <div
                    id="locCheckboxes"
                    class="grid grid-cols-2 gap-2 text-sm max-h-36 overflow-auto pr-2"
                  ></div>
                </div>

                <div class="flex gap-2">
                  <button
                    id="applyFilters"
                    class="flex-1 px-3 py-2 rounded-lg bg-pawPink text-white glow-light"
                  >
                    Apply
                  </button>
                  <button
                    id="resetFilters"
                    class="flex-1 px-3 py-2 rounded-lg bg-white/80 dark:bg-gray-700 border"
                  >
                    Reset
                  </button>
                </div>
              </div>
            </div>

            <!-- Theme toggle -->
            <button
              id="themeToggle"
              class="p-2 rounded-full bg-white/80 dark:bg-gray-700 shadow hover:scale-105 transition transform"
              aria-label="Toggle theme"
            >
              ðŸŒž
            </button>
          </div>
        </div>
      </div>
    </header>

    <!-- Main layout -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
      <div class="flex items-center justify-between mb-4">
        <div class="text-sm text-gray-700 dark:text-gray-300">
          Showing <span id="count">0</span> pets
        </div>
        <div class="flex gap-2 items-center">
          <button
            id="resetView"
            class="px-3 py-1 rounded-full bg-white/80 dark:bg-gray-700 border"
          >
            Reset View
          </button>
        </div>
      </div>

      <!-- Grid -->
      <div
        id="grid"
        class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6"
      ></div>

      <!-- Load more placeholder -->
      <div class="flex justify-center mt-8">
        <button
          id="loadMore"
          class="px-5 py-2 rounded-lg bg-white/80 dark:bg-gray-700 border shadow hover:scale-105 transition"
        >
          Load more
        </button>
      </div>
    </main>

    <!-- Modal -->
    <div
      id="modal"
      class="fixed inset-0 z-50 hidden items-center justify-center"
    >
      <div class="absolute inset-0 modal-backdrop" onclick="closeModal()"></div>
      <div
        class="relative max-w-3xl w-full mx-4 bg-white/95 dark:bg-gray-900/95 rounded-2xl shadow-2xl overflow-hidden"
      >
        <div class="md:flex">
          <div class="md:w-1/2">
            <img
              id="modalImg"
              src=""
              class="w-full h-72 object-cover"
              alt="pet"
            />
          </div>
          <div class="p-6 md:w-1/2">
            <h3 id="modalName" class="text-2xl font-bold mb-1"></h3>
            <p
              id="modalBreed"
              class="text-sm text-gray-600 dark:text-gray-300 mb-2"
            ></p>
            <p id="modalType" class="mb-2"></p>
            <p id="modalLocation" class="text-sm mb-4"></p>
            <p id="modalDesc" class="text-gray-700 dark:text-gray-300 mb-6"></p>
            <div class="flex gap-3">
              <button class="px-4 py-2 bg-pawPink text-white rounded-lg">
                Contact
              </button>
              <button
                class="px-4 py-2 bg-white/80 dark:bg-gray-700 rounded-lg border"
                onclick="closeModal()"
              >
                Close
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      /* -------------------------
      DUMMY DATA (20 items)
      Replace with server response later via fetchPets()
      ------------------------- */
      const pets = [
        {
          id: 1,
          type: "Dog",
          name: "Raju",
          breed: "Labrador",
          location: "Mumbai",
          img: "https://images.unsplash.com/photo-1548199973-03cce0bbc87b?w=1000&q=80",
          desc: "Playful Labrador who loves water and fetch.",
        },
        {
          id: 2,
          type: "Cat",
          name: "Gulab",
          breed: "Persian",
          location: "Delhi",
          img: "https://images.unsplash.com/photo-1518791841217-8f162f1e1131?w=1000&q=80",
          desc: "Fluffy Persian with calm temperament.",
        },
        {
          id: 3,
          type: "Dog",
          name: "Sheru",
          breed: "German Shepherd",
          location: "Bengaluru",
          img: "https://imgs.search.brave.com/gbpuU_BoJSif3yOMjJ1zQ9RUCvX8KIfIQGDumRLg81M/rs:fit:500:0:1:0/g:ce/aHR0cHM6Ly9jZG4u/cGl4YWJheS5jb20v/cGhvdG8vMjAyMS8x/MC8wMS8xOC81My9j/b3JnaS02NjczMzQz/XzY0MC5qcGc",
          desc: "Loyal and protective, great for families.",
        },
        {
          id: 4,
          type: "Cat",
          name: "Moti",
          breed: "Bengal",
          location: "Kolkata",
          img: "https://images.unsplash.com/photo-1517423440428-a5a00ad493e8?w=1000&q=80",
          desc: "Active Bengal who loves to play.",
        },
        {
          id: 5,
          type: "Dog",
          name: "Simba",
          breed: "Beagle",
          location: "Chennai",
          img: "https://images.unsplash.com/photo-1558788353-f76d92427f16?w=1000&q=80",
          desc: "Curious Beagle, great with kids.",
        },
        {
          id: 6,
          type: "Cat",
          name: "Chintu",
          breed: "Siamese",
          location: "Hyderabad",
          img: "https://imgs.search.brave.com/ZV7xdRKSTVkM81fORsjcA4cTWlVQq__StAElhCGBO3U/rs:fit:500:0:1:0/g:ce/aHR0cHM6Ly9wcmV2/aWV3LnJlZGQuaXQv/Zm91bmQtdGhpcy1j/YXQtb24tc25hcC1p/cy1pdC1yZWFsLWFu/ZC13aGF0cy10aGUt/c291cmNlLXYwLXJt/cHBrMTU3ZHk1ZTEu/anBlZz93aWR0aD0y/MDQ4JmZvcm1hdD1w/anBnJmF1dG89d2Vi/cCZzPTkyZTM0OTI5/NzYzMGZhYWZlZGM4/YWY1NjY1NTIzYmI2/ODJiNDQ2Njk",
          desc: "Affectionate Siamese who likes company.",
        },
        {
          id: 7,
          type: "Dog",
          name: "Rani",
          breed: "Pomeranian",
          location: "Ahmedabad",
          img: "https://images.pexels.com/photos/2607544/pexels-photo-2607544.jpeg?cs=srgb&dl=pexels-simonakidric-2607544.jpg&fm=jpg",
          desc: "Tiny Pomeranian, great lap dog.",
        },
        {
          id: 8,
          type: "Cat",
          name: "Tuffy",
          breed: "Ragdoll",
          location: "Pune",
          img: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTU0riq930fLDdR_RL_II2bNreKF20aaqfUQg&s",
          desc: "Gentle Ragdoll who loves cuddles.",
        },
        {
          id: 9,
          type: "Dog",
          name: "Babloo",
          breed: "Bulldog",
          location: "Surat",
          img: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR_EI6kKALUiLZewZeABKRKKJtEvvUhgSuAlA&s",
          desc: "Chill Bulldog with a friendly personality.",
        },
        {
          id: 10,
          type: "Cat",
          name: "Motiya",
          breed: "Maine Coon",
          location: "Lucknow",
          img: "https://images.unsplash.com/photo-1526336024174-e58f5cdd8e13?w=1000&q=80",
          desc: "Large & gentle Maine Coon.",
        },
        {
          id: 11,
          type: "Dog",
          name: "Kalu",
          breed: "Doberman",
          location: "Kanpur",
          img: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ3Jnv2yt9mmwRQ3DJJVNduMnKQ2bKNhkbBEA&s",
          desc: "Alert Doberman, excellent guard dog.",
        },
        {
          id: 12,
          type: "Cat",
          name: "Billi",
          breed: "Sphynx",
          location: "Agra",
          img: "https://images.unsplash.com/photo-1543852786-1cf6624b9987?w=1000&q=80",
          desc: "Unique Sphynx, loves warmth & people.",
        },
        {
          id: 13,
          type: "Dog",
          name: "Chiku",
          breed: "Pug",
          location: "Vadodara",
          img: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRhov7CgQLp3KKiu4i_bopEOwn1uVX-9tXtkA&s",
          desc: "Cute Pug who enjoys short walks.",
        },
        {
          id: 14,
          type: "Cat",
          name: "Raja",
          breed: "Russian Blue",
          location: "Bhopal",
          img: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTX4EbLlkmCJhmk4LI_PxiTc7OrHEkFE_wjeA&s",
          desc: "Elegant Russian Blue, quiet and smart.",
        },
        {
          id: 15,
          type: "Dog",
          name: "Bhola",
          breed: "Labrador",
          location: "Chandigarh",
          img: "data:image/jpeg;base64,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",
          desc: "Friendly labrador great with kids.",
        },
        {
          id: 16,
          type: "Cat",
          name: "Pihu",
          breed: "Persian",
          location: "Dehradun",
          img: "https://images.unsplash.com/photo-1518791841217-8f162f1e1131?w=1000&q=80",
          desc: "Fluffy Persian who loves grooming.",
        },
        {
          id: 17,
          type: "Dog",
          name: "Kittu",
          breed: "Chihuahua",
          location: "Noida",
          img: "https://www.diamondpet.com/wp-content/uploads/2023/07/brown-chihuahua-standing-in-grass-071723.jpg",
          desc: "Tiny and lively Chihuahua.",
        },
        {
          id: 18,
          type: "Cat",
          name: "Tabby",
          breed: "Tabby",
          location: "Indore",
          img: "https://images.unsplash.com/photo-1525253086316-d0c936c814f8?w=1000&q=80",
          desc: "Classic tabby, playful and affectionate.",
        },
        {
          id: 19,
          type: "Dog",
          name: "Ramu",
          breed: "Indian Pariah",
          location: "Patna",
          img: "https://i.guim.co.uk/img/media/fe1e34da640c5c56ed16f76ce6f994fa9343d09d/0_174_3408_2046/master/3408.jpg?width=1200&quality=85&auto=format&fit=max&s=1aaf31e276b20b5d12d4bee49c5a99e2",
          desc: "Resilient Indian pariah dog, loyal.",
        },
        {
          id: 20,
          type: "Cat",
          name: "Gattu",
          breed: "Domestic Short Hair",
          location: "Jodhpur",
          img: "https://images.unsplash.com/photo-1518791841217-8f162f1e1131?w=1000&q=80",
          desc: "Easygoing DSH, good companion.",
        },
      ];

      /* -------------------------
      DOM references & helpers
      ------------------------- */
      const grid = document.getElementById("grid");
      const countEl = document.getElementById("count");
      const searchInput = document.getElementById("search");
      const clearSearchBtn = document.getElementById("clearSearch");
      const filterToggle = document.getElementById("filterToggle");
      const filterDropdown = document.getElementById("filterDropdown");
      const applyFiltersBtn = document.getElementById("applyFilters");
      const resetFiltersBtn = document.getElementById("resetFilters");
      const breedCheckboxes = document.getElementById("breedCheckboxes");
      const locCheckboxes = document.getElementById("locCheckboxes");
      let currentList = [];

      /* -------------------------
      Populate filter checkboxes dynamically
      ------------------------- */
      function uniqueSorted(arr) {
        return Array.from(new Set(arr)).sort((a, b) => a.localeCompare(b));
      }
      function populateFilters(data) {
        const breeds = uniqueSorted(data.map((p) => p.breed));
        const locs = uniqueSorted(data.map((p) => p.location));

        breedCheckboxes.innerHTML = "";
        locCheckboxes.innerHTML = "";

        breeds.forEach((b) => {
          const id = "b_" + b.replace(/\s+/g, "_");
          const wrapper = document.createElement("label");
          wrapper.className = "inline-flex items-center gap-2";
          wrapper.innerHTML = `<input type="checkbox" class="filter-breed" value="${b}" id="${id}"><span class="text-sm">${b}</span>`;
          breedCheckboxes.appendChild(wrapper);
        });

        locs.forEach((l) => {
          const id = "l_" + l.replace(/\s+/g, "_");
          const wrapper = document.createElement("label");
          wrapper.className = "inline-flex items-center gap-2";
          wrapper.innerHTML = `<input type="checkbox" class="filter-loc" value="${l}" id="${id}"><span class="text-sm">${l}</span>`;
          locCheckboxes.appendChild(wrapper);
        });
      }

      /* -------------------------
      Render cards
      ------------------------- */
      function renderPets(list) {
        grid.innerHTML = "";
        list.forEach((p) => {
          const card = document.createElement("article");
          card.className =
            "bg-white/90 dark:bg-gray-800/70 rounded-lg overflow-hidden shadow-md transition-transform transform card-hover fade-in-up";
          card.innerHTML = `
         <img src="${p.img}" alt="${p.name}" class="card-img" loading="lazy" />
         <div class="p-4">
           <div class="flex justify-between items-start">
             <div>
               <h4 class="font-semibold text-lg">${p.name}</h4>
               <p class="text-sm text-gray-600 dark:text-gray-300">${p.breed} â€¢ <span class="capitalize">${p.type}</span></p>
             </div>
             <div class="text-xs text-gray-500 dark:text-gray-300">${p.location}</div>
           </div>
           <div class="mt-4 flex justify-end">
             <button class="detail-btn px-3 py-1 rounded-full bg-white/90 dark:bg-gray-700 border hover:bg-pawPink/10 dark:hover:bg-pawBlue/10 transition">Click for more details</button>
           </div>
         </div>
       `;
          // attach detail
          card
            .querySelector(".detail-btn")
            .addEventListener("click", () => openModal(p));
          grid.appendChild(card);
        });
        countEl.textContent = list.length;
        currentList = list;
      }

      /* -------------------------
      Filtering logic (multi-checkbox + search)
      ------------------------- */
      function getSelectedValues(selector) {
        return Array.from(document.querySelectorAll(selector + ":checked")).map(
          (n) => n.value
        );
      }

      function filterPets() {
        const q = (searchInput.value || "").trim().toLowerCase();
        const types = getSelectedValues(".filter-type"); // Dog, Cat
        const breeds = getSelectedValues(".filter-breed");
        const locs = getSelectedValues(".filter-loc");

        let out = pets.filter((p) => {
          // search
          if (q) {
            const hay = (
              p.name +
              " " +
              p.breed +
              " " +
              p.type +
              " " +
              p.location
            ).toLowerCase();
            if (!hay.includes(q)) return false;
          }
          // type filters
          if (types.length && !types.includes(p.type)) return false;
          // breed filters
          if (breeds.length && !breeds.includes(p.breed)) return false;
          // location filters
          if (locs.length && !locs.includes(p.location)) return false;

          return true;
        });

        renderPets(out);
      }

      /* -------------------------
      Modal
      ------------------------- */
      const modal = document.getElementById("modal");
      function openModal(p) {
        document.getElementById("modalImg").src = p.img;
        document.getElementById("modalName").textContent = p.name;
        document.getElementById(
          "modalBreed"
        ).textContent = `${p.breed} â€¢ ${p.type}`;
        document.getElementById("modalType").textContent = `Type: ${p.type}`;
        document.getElementById(
          "modalLocation"
        ).textContent = `Location: ${p.location}`;
        document.getElementById("modalDesc").textContent = p.desc;
        modal.classList.remove("hidden");
        modal.classList.add("flex");
        document.body.style.overflow = "hidden";
      }
      function closeModal() {
        modal.classList.remove("flex");
        modal.classList.add("hidden");
        document.body.style.overflow = "";
      }
      document.addEventListener("keydown", (e) => {
        if (e.key === "Escape") closeModal();
      });

      /* -------------------------
      UI interactions & event wiring
      ------------------------- */
      searchInput.addEventListener("input", () => filterPets());
      clearSearchBtn.addEventListener("click", () => {
        searchInput.value = "";
        filterPets();
      });

      // filter dropdown toggle and outside click close
      filterToggle.addEventListener("click", (e) => {
        e.stopPropagation();
        filterDropdown.classList.toggle("hidden");
      });
      document.addEventListener("click", (e) => {
        if (!filterDropdown.classList.contains("hidden")) {
          if (!filterDropdown.contains(e.target) && e.target !== filterToggle)
            filterDropdown.classList.add("hidden");
        }
      });

      // apply / reset
      applyFiltersBtn.addEventListener("click", () => {
        filterDropdown.classList.add("hidden");
        filterPets();
      });
      resetFiltersBtn.addEventListener("click", () => {
        document
          .querySelectorAll(".filter-type,.filter-breed,.filter-loc")
          .forEach((ch) => (ch.checked = false));
        searchInput.value = "";
        filterPets();
      });

      // reset view
      document.getElementById("resetView").addEventListener("click", () => {
        document
          .querySelectorAll(".filter-type,.filter-breed,.filter-loc")
          .forEach((ch) => (ch.checked = false));
        searchInput.value = "";
        filterPets();
      });

      // load more placeholder (server-side pagination later)
      document.getElementById("loadMore").addEventListener("click", () => {
        alert(
          "Load more placeholder â€” implement server pagination in fetchPets() later."
        );
      });

      /* -------------------------
      Theme toggle (works without localStorage)
      ------------------------- */
      // const themeBtn = document.getElementById('themeToggle');
      // function setThemeIcon() {
      //   const dark = document.documentElement.classList.contains('dark');
      //   themeBtn.textContent = dark ? 'ðŸŒ™' : 'ðŸŒž';
      // }
      // setThemeIcon();
      // themeBtn.addEventListener('click', () => {
      //   document.documentElement.classList.toggle('dark');
      //   setThemeIcon();
      // });

      /* -------------------------
      Working Theme Toggle (with smooth transitions)
      ------------------------- */
      const themeBtn = document.getElementById("themeToggle");

      // Initialize theme based on system preference
      if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
        document.documentElement.classList.add("dark");
      }

      function setThemeIcon() {
        const isDark = document.documentElement.classList.contains("dark");
        themeBtn.textContent = isDark ? "ðŸŒ™" : "ðŸŒž";
      }

      setThemeIcon();

      themeBtn.addEventListener("click", () => {
        document.documentElement.classList.toggle("dark");
        document.body.classList.add("transition-all");
        document.body.classList.add("duration-500");
        setThemeIcon();
      });

      /* -------------------------
      fetchPets() â€” placeholder for backend integration
      Replace URL and logic to fetch server data
      Example:
        async function fetchPets() {
          const res = await fetch('/api/pets');
          const data = await res.json();
          populateFilters(data);
          renderPets(data);
        }
      ------------------------- */
      async function fetchPets() {
        // Placeholder - currently uses local `pets` variable
        // Replace with real fetch when backend is ready.
        // const res = await fetch('/api/pets'); const data = await res.json();
        const data = pets; // local fallback
        populateFilters(data);
        renderPets(data);
      }

      /* Initialize */
      fetchPets();
    </script>
  </body>
</html>
